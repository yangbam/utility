<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë„¤ì„ìŠ¤í‹°ì»¤ & ë¼ë²¨ ë„ì•ˆ ìƒì„±ê¸° - ì–´ë¦°ì´ì§‘, ì£¼ë°© ì •ë¦¬ í•„ìˆ˜í…œ</title>
    <meta name="description" content="ê·€ì—¬ìš´ ì´ëª¨ì§€ì™€ íŒ¨í„´ìœ¼ë¡œ ë‚˜ë§Œì˜ ë„¤ì„ìŠ¤í‹°ì»¤ì™€ ë¼ë²¨ì„ ë§Œë“œì„¸ìš”. A4 ë¼ë²¨ì§€ ê·œê²©ì— ë§ì¶° ìë™ ë°°ì¹˜ í›„ ë¬´ë£Œë¡œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.">
    <meta name="keywords" content="ë„¤ì„ìŠ¤í‹°ì»¤ì œì‘, ë¼ë²¨ë„ì•ˆ, ì´ë¦„í‘œë§Œë“¤ê¸°, ì–´ë¦°ì´ì§‘ì¤€ë¹„ë¬¼, ì£¼ë°©ë¼ë²¨, ì–‘ë…í†µë¼ë²¨, ë‹¤ì´ì†Œë¼ë²¨ì§€">
    <meta name="author" content="Yangbam Lab">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://Yangbam-lab.com/businessevent/label.html">
    <meta property="og:title" content="ì—„ë§ˆí‘œ ë¼ë²¨ ë§Œë“¤ê¸°! ë„¤ì„ìŠ¤í‹°ì»¤ ìƒì„±ê¸° ğŸ·ï¸">
    <meta property="og:description" content="ì–´ë¦°ì´ì§‘ ì¤€ë¹„ë¬¼, ì£¼ë°© ì–‘ë…í†µ ì •ë¦¬. A4 ë¼ë²¨ì§€ì— ë§ì¶°ì„œ ì§ì ‘ ë½‘ìœ¼ì„¸ìš”.">
    <meta property="og:image" content="https://Yangbam-lab.com/assets/og_label.png">

    <link rel="canonical" href="https://Yangbam-lab.com/businessevent/label.html">

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Noto+Sans+KR:wght@400;700&family=Sunflower:wght@500&display=swap"
        rel="stylesheet">

    <!-- html2canvas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        :root {
            --primary: #FF9F43;
            /* Pastel Orange */
            --secondary: #54a0ff;
            --bg: #fef9e7;
            --text: #576574;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Navigation */
        nav {
            width: 100%;
            background: white;
            padding: 1rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 10;
        }

        .nav-back {
            position: absolute;
            left: 20px;
            text-decoration: none;
            color: var(--text);
            font-size: 1.2rem;
            font-weight: bold;
        }

        .nav-title {
            font-weight: 800;
            font-size: 1.2rem;
        }

        /* Container */
        .container {
            display: flex;
            flex-direction: column-reverse;
            /* Preview on top */
            /* flex-wrap: wrap-reverse; Removed */
            width: 100%;
            max-width: 500px;
            gap: 40px;
            padding: 40px 20px;
            justify-content: center;
            align-items: center;
            /* Center Items */
        }

        /* Left: Preview (Visual priority) */
        .preview-section {
            flex: 1;
            width: 100%;
            min-width: 300px;
            /* Reduced min-width safe for 500px */
            display: flex;
            flex-direction: column;
            align-items: center;
            /* position: sticky; Removed */
            /* top: 20px; */
        }

        /* Right: Controls */
        .controls-section {
            flex: 1;
            min-width: 320px;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            border: 3px solid #fff;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 800;
            margin-bottom: 20px;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title::before {
            content: 'ğŸ¨';
        }

        .control-group {
            margin-bottom: 25px;
        }

        .control-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 700;
            color: #555;
            font-size: 0.95rem;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .form-control:focus {
            border-color: var(--primary);
            outline: none;
        }

        /* Grids for Selection */
        .grid-select {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }

        .grid-item {
            aspect-ratio: 1;
            border: 2px solid #eee;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.2s;
            background: white;
        }

        .grid-item:hover {
            transform: translateY(-3px);
        }

        .grid-item.active {
            border-color: var(--primary);
            background-color: #fff3cd;
        }

        /* Pattern Selection */
        .pattern-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .pattern-item {
            aspect-ratio: 1;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #ddd;
            position: relative;
        }

        .pattern-item.active {
            border-color: var(--primary);
            transform: scale(1.1);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }

        /* Label Preview Single */
        .label-preview-box {
            background-color: #fff;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            min-height: 200px;
        }

        .single-label {
            width: 300px;
            height: 120px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            padding: 15px 25px;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(0, 0, 0, 0.05);
            /* Subtle outline */
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
        }

        .label-icon {
            font-size: 3.5rem;
            margin-right: 20px;
            z-index: 2;
        }

        .label-text {
            font-size: 2.5rem;
            font-weight: bold;
            z-index: 2;
            word-break: keep-all;
            line-height: 1.2;
        }

        /* Patterns CSS */
        .pat-none {
            background: white;
        }

        .pat-dot {
            background-color: #ffffff;
            background-image: radial-gradient(#FF9F43 20%, transparent 20%);
            background-size: 10px 10px;
        }

        .pat-check {
            background-color: #ffffff;
            background-image: linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%, #eee),
                linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%, #eee);
            background-position: 0 0, 10px 10px;
            background-size: 20px 20px;
        }

        .pat-pastel1 {
            background: #ffeaa7;
        }

        /* Yellow */
        .pat-pastel2 {
            background: #fab1a0;
        }

        /* Pink */
        .pat-pastel3 {
            background: #81ecec;
        }

        /* Cyan */
        .pat-pastel4 {
            background: #a29bfe;
            color: white !important;
        }

        /* Purple */

        /* A4 Preview Container */
        .a4-wrapper {
            background: #555;
            padding: 20px;
            border-radius: 8px;
            overflow: auto;
            max-width: 100%;
            margin-top: 20px;
            display: none;
            /* Toggle */
        }

        #page-a4 {
            width: 210mm;
            height: 297mm;
            background: white;
            padding: 10mm;
            display: grid;
            gap: 2mm;
            /* Grid configured by JS */
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .label-copy {
            width: 100%;
            height: 100%;
            border-radius: 8px;
            /* Slightly less round for print */
            display: flex;
            align-items: center;
            justify-content: center;
            /* Center content for small labels */
            padding: 5px;
            border: 1px dashed #ccc;
            /* Cutting line */
            overflow: hidden;
            font-size: 50%;
            /* Scale down text for grid */
        }

        .label-copy .label-icon {
            font-size: 1.5em;
            margin-right: 5px;
        }

        .label-copy .label-text {
            font-size: 1.5em;
        }


        /* Action Buttons */
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-main {
            flex: 2;
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(255, 159, 67, 0.3);
        }

        .btn-main:hover {
            transform: translateY(-2px);
        }

        .btn-sub {
            flex: 1;
            background: white;
            border: 2px solid #ddd;
            color: #555;
            padding: 15px;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
        }

        /* SEO */
        .seo-section {
            max-width: 900px;
            margin: 60px auto;
            padding: 0 20px;
            line-height: 1.8;
            color: #555;
        }

        .seo-section h2 {
            border-bottom: 2px solid var(--primary);
            padding-bottom: 10px;
            color: #333;
            margin-top: 40px;
        }

        /* Mobile */
        /* Mobile Responsive Improvements */
        @media (max-width: 99999px) {
            body {
                padding-bottom: 150px;
                overflow-x: hidden;
            }

            .container {
                flex-direction: column;
                padding: 10px;
                gap: 20px;
                width: 100%;
                box-sizing: border-box;
            }

            /* Sticky Preview */
            .preview-section {
                order: -1;
                width: 100%;
                /* position: sticky; Removed to prevent blocking */
                /* top: 0; */
                z-index: 100;
                background-color: var(--bg);
                padding: 10px 0;
                border-bottom: 2px solid #e0dfd5;
                margin-bottom: 0;
            }

            .label-preview-box {
                padding: 10px;
                min-height: auto;
                margin-bottom: 10px;
                background: none;
                box-shadow: none;
                width: 100%;
                display: flex;
                justify-content: center;
            }

            /* Single label scaling handled by JS to preserve proportions */
            .single-label {
                transform-origin: center top;
                /* Max width constraint */
                max-width: 100%;
            }

            /* Responsive Grids */
            .grid-select {
                grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            }

            .pattern-grid {
                grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            }

            /* A4 Preview scrolling */
            .a4-wrapper {
                width: 100%;
                padding: 5px;
                overflow-x: auto;
                background: #555;
                border-radius: 4px;
            }

            #page-a4 {
                /* Maintain size, allow scroll */
                transform: scale(0.5);
                /* Initial zoom out */
                transform-origin: top left;
                margin-bottom: -50%;
                /* Compensation for scale */
            }

            .controls-section {
                border: none;
                box-shadow: none;
                padding: 10px;
                background: white;
                border-radius: 12px;
            }
        }
    </style>
</head>

<body>
    <nav>
        <a href="index.html" class="nav-back">â† ëŒì•„ê°€ê¸°</a>
        <span class="nav-title">ë„¤ì„ìŠ¤í‹°ì»¤ ìƒì„±ê¸°</span>
    </nav>

    <div class="container">
        <!-- Preview Section -->
        <div class="preview-section">
            <div class="label-preview-box">
                <div id="labelSingle" class="single-label pat-pastel1">
                    <div class="label-icon">ğŸ»</div>
                    <div class="label-text">ê¹€ì² ìˆ˜</div>
                </div>
            </div>

            <div class="a4-wrapper" id="a4Wrapper">
                <div id="page-a4">
                    <!-- Grid items injected -->
                </div>
            </div>

            <p style="text-align:center; font-size:0.8rem; color:#888; margin-top:10px;" id="previewNote">
                * ìœ„ ì´ë¯¸ì§€ëŠ” ë¯¸ë¦¬ë³´ê¸°ì…ë‹ˆë‹¤. [A4 ì±„ìš°ê¸°]ë¥¼ í•˜ë©´ ì¸ì‡„ìš© íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.
            </p>
        </div>

        <!-- Controls Section -->
        <div class="controls-section">

            <!-- Ad Placeholder
            <div class="ad-banner" style="background:#f1f1f1; height:60px; margin-bottom:20px; border-radius:8px; display:flex; justify-content:center; align-items:center; color:#aaa;">ê´‘ê³  ì˜ì—­</div>
            -->

            <div class="section-title">ë””ìì¸ (Design)</div>

            <div class="control-group">
                <label class="control-label">ì´ë¦„ / ë‚´ìš©</label>
                <input type="text" id="inputText" class="form-control" value="ê¹€ì² ìˆ˜" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
            </div>

            <div class="control-group">
                <label class="control-label">ì•„ì´ì½˜ (Emoji)</label>
                <div class="grid-select" id="iconGrid">
                    <!-- JS Injected -->
                </div>
            </div>

            <div class="control-group">
                <label class="control-label">ë°°ê²½ íŒ¨í„´</label>
                <div class="pattern-grid">
                    <div class="pattern-item pat-pastel1 active" onclick="setPattern('pat-pastel1')"></div>
                    <div class="pattern-item pat-pastel2" onclick="setPattern('pat-pastel2')"></div>
                    <div class="pattern-item pat-pastel3" onclick="setPattern('pat-pastel3')"></div>
                    <div class="pattern-item pat-pastel4" onclick="setPattern('pat-pastel4')"></div>
                    <div class="pattern-item pat-dot" onclick="setPattern('pat-dot')"></div>
                    <div class="pattern-item pat-check" onclick="setPattern('pat-check')"></div>
                    <div class="pattern-item pat-none" onclick="setPattern('pat-none')"></div>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label">í°íŠ¸ ìŠ¤íƒ€ì¼</label>
                <select id="selFont" class="form-control" onchange="upd()">
                    <option value="'Jua', sans-serif">ë™ê¸€ë™ê¸€ (Jua)</option>
                    <option value="'Gamja Flower', cursive">ì†ê¸€ì”¨ (Gamja)</option>
                    <option value="'Sunflower', sans-serif">ë‹¨ì •í•¨ (Sunflower)</option>
                    <option value="'Noto Sans KR', sans-serif">ê³ ë”• (Standard)</option>
                </select>
            </div>

            <hr style="border:0; border-top:1px dashed #ddd; margin:30px 0;">

            <div class="section-title">ì¶œë ¥ ì˜µì…˜ (Print)</div>

            <div class="control-group">
                <label class="control-label">ë¼ë²¨ ì‚¬ì´ì¦ˆ</label>
                <div class="grid-select" style="grid-template-columns: 1fr 1fr;">
                    <div class="grid-item active" id="sizeMed" onclick="setSize('medium')"
                        style="border-radius:8px; font-size:1rem; flex-direction:column;">
                        <strong>ì¤‘í˜• (ì´ë¦„í‘œ)</strong>
                        <span style="font-size:0.8rem; color:#888;">63 x 38 mm (21ì¹¸)</span>
                    </div>
                    <div class="grid-item" id="sizeSmall" onclick="setSize('small')"
                        style="border-radius:8px; font-size:1rem; flex-direction:column;">
                        <strong>ì†Œí˜• (ê²¬ì¶œì§€)</strong>
                        <span style="font-size:0.8rem; color:#888;">38 x 21 mm (65ì¹¸)</span>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn-sub" onclick="downloadSingle()">ë‚±ê°œ ì €ì¥</button>
                <button class="btn-main" onclick="previewA4()">A4 ì±„ìš°ê¸° & ì €ì¥</button>
            </div>

            <p style="font-size:0.8rem; color:#888; margin-top:15px; line-height:1.4;">
                * 'A4 ì±„ìš°ê¸°'ë¥¼ ëˆ„ë¥´ë©´ ì¸ì‡„ìš© ì‹œíŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.<br>
                * í¼í… 3105(ì¤‘í˜•), 3108(ì†Œí˜•) ê·œê²©ê³¼ ìœ ì‚¬í•˜ê²Œ ë°°ì¹˜ë©ë‹ˆë‹¤. (ì •í™•í•œ ì˜¤ì°¨ ì—†ëŠ” ì¸ì‡„ë¥¼ ìœ„í•´ì„œëŠ” ì „ìš© SWë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.)
            </p>

        </div>
    </div>

    <!-- SEO Content -->
    <article class="seo-section">
        <h2>ì–´ë¦°ì´ì§‘ ì…í•™ & ì£¼ë°© ì •ë¦¬ë¥¼ ìœ„í•œ ì…€í”„ ë¼ë²¨ë§ ê°€ì´ë“œ</h2>
        <p>
            ìƒˆ í•™ê¸°ê°€ ì‹œì‘ë˜ë©´ ì–´ë¦°ì´ì§‘ì´ë‚˜ ìœ ì¹˜ì›ì— ë³´ë‚¼ ë¬¼ê±´ë§ˆë‹¤ ì´ë¦„ì„ ë¶™ì´ëŠ” 'ì§€ì˜¥ì˜ ë„¤ì„ìŠ¤í‹°ì»¤ ì‘ì—…'ì´ ì‹œì‘ë©ë‹ˆë‹¤.
            ì¹«ì†”, ë¬¼í†µ, ìˆ˜ì €í†µ, ì—¬ë²Œ ì˜·ê¹Œì§€... í•˜ë‚˜í•˜ë‚˜ ë„¤ì„íœìœ¼ë¡œ ì“°ìë‹ˆ ë²ˆì§€ê³ , ì¸í„°ë„· ì£¼ë¬¸ì€ ë°°ì†¡ë¹„ê°€ ì•„ê¹ì£ .
            ì´ì œ <strong>Yangbam Lab ë„¤ì„ìŠ¤í‹°ì»¤ ìƒì„±ê¸°</strong>ë¡œ ì§‘ì—ì„œ ê°„í¸í•˜ê²Œ ë¼ë²¨ì„ ë””ìì¸í•˜ê³  ì¶œë ¥í•´ë³´ì„¸ìš”.
            A4 ë¼ë²¨ì§€(í¼í…, ì• ë‹ˆë¼ë²¨ ë“±)ë§Œ ìˆìœ¼ë©´ ë‹¤ì´ì†Œ ë¼ë²¨ê¸° ë¶€ëŸ½ì§€ ì•Šì€ ê³ í€„ë¦¬í‹° ìŠ¤í‹°ì»¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>

        <h3>1. ì£¼ë°© ì–‘ë…í†µ ë¼ë²¨ë§ ë…¸í•˜ìš°</h3>
        <p>
            ê¹”ë”í•œ ì£¼ë°©ì„ ê¿ˆê¾¼ë‹¤ë©´ 'ì†Œë¶„'ê³¼ 'ë¼ë²¨ë§'ì´ í•µì‹¬ì…ë‹ˆë‹¤.
            ì œê°ê°ì¸ ì–‘ë…í†µ ëŒ€ì‹  í†µì¼ëœ ìš©ê¸°ì— ë‚´ìš©ì„ ì˜®ê²¨ ë‹´ê³ , ë‚´ìš©ë¬¼ ì´ë¦„(ì†Œê¸ˆ, ì„¤íƒ•, ê³ ì¶§ê°€ë£¨)ê³¼ **ìœ í†µê¸°í•œ**ì„ í•¨ê»˜ ì ì–´ë‘ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
            ë³¸ íˆ´ì˜ 'ë‹¨ì •í•¨(Sunflower)' í°íŠ¸ì™€ ì‹¬í”Œí•œ í…Œë‘ë¦¬ë¥¼ í™œìš©í•˜ë©´ ëª¨ë˜í•œ ì£¼ë°© ì¸í…Œë¦¬ì–´ë¥¼ ì™„ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>

        <h3>2. ë¼ë²¨ì§€ ì„ íƒ íŒ (ë°©ìˆ˜ vs ì¼ë°˜)</h3>
        <ul>
            <li><strong>ì¼ë°˜ ì¢…ì´ ë¼ë²¨:</strong> ë…¸íŠ¸, êµê³¼ì„œ, íŒŒì¼ì²  ë“± ë¬¼ì´ ë‹¿ì§€ ì•ŠëŠ” ê³³ì— ì í•©í•©ë‹ˆë‹¤. ê°€ì„±ë¹„ê°€ ì¢‹ìŠµë‹ˆë‹¤.</li>
            <li><strong>ë°©ìˆ˜ ë¼ë²¨ (ì‰í¬ì ¯/ë ˆì´ì € ì „ìš©):</strong> ë¬¼í†µ, ì‹íŒ, ìˆ˜ì €í†µ ë“± ì„¤ê±°ì§€ê°€ í•„ìš”í•œ ë¬¼ê±´ì—ëŠ” ë°˜ë“œì‹œ 'ë°©ìˆ˜ ë¼ë²¨ì§€'ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
                ë‹¨, ì§‘ì˜ í”„ë¦°í„° ì¢…ë¥˜(ì‰í¬ì ¯/ë ˆì´ì €)ì— ë§ëŠ” ìš©ì§€ë¥¼ ì‚¬ì•¼ ë²ˆì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
            <li><strong>í¬ë¼í”„íŠ¸ ë¼ë²¨:</strong> ë¹ˆí‹°ì§€í•œ ê°ì„±ì„ ì›í•  ë•Œ ì‚¬ìš©í•˜ì„¸ìš”. ìˆ˜ì œì²­ì´ë‚˜ ì¿ í‚¤ í¬ì¥ì— ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤.</li>
        </ul>

        <h3>3. í”„ë¦°í„°ê°€ ì—†ë‹¤ë©´?</h3>
        <p>
            ì§‘ì— í”„ë¦°í„°ê°€ ì—†ë‹¤ë©´ 'ë‚±ê°œ ì €ì¥' ê¸°ëŠ¥ì„ ì´ìš©í•´ ì´ë¯¸ì§€ë¥¼ ìŠ¤ë§ˆíŠ¸í°ì— ì €ì¥í•œ í›„,
            ê°€ê¹Œìš´ ë¬¸êµ¬ì ì´ë‚˜ í¸ì˜ì (í”„ë¦°íŒ…ë°•ìŠ¤)ì—ì„œ A4 ìŠ¤í‹°ì»¤ ìš©ì§€ì— ì¸ì‡„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            (ë‹¨, ê³µìš© í”„ë¦°í„° ì‚¬ìš© ì‹œ ìš©ì§€ ê±¸ë¦¼ ì£¼ì˜)
        </p>
    </article>

    <script>
        // Data
        const icons = ['ğŸ»', 'ğŸ°', 'ğŸ¶', 'ğŸ±', 'ğŸ¦', 'ğŸ¸', 'ğŸ¥', 'ğŸ™', 'ğŸ', 'ğŸ“', 'ğŸ¥•', 'ğŸ¥', 'ğŸ­', 'âš½', 'ğŸš—', 'ğŸš€', 'â­', 'â¤ï¸', 'ğŸ˜Š', 'ğŸ˜'];
        let state = {
            text: 'ê¹€ì² ìˆ˜',
            icon: 'ğŸ»',
            pattern: 'pat-pastel1',
            font: "'Jua', sans-serif",
            sizeMode: 'medium' // medium or small
        };

        // DOM
        const els = {
            preview: document.getElementById('labelSingle'),
            iconGrid: document.getElementById('iconGrid'),
            text: document.getElementById('inputText'),
            labelIcon: document.querySelector('.label-icon'),
            labelText: document.querySelector('.label-text'),
            a4Wrapper: document.getElementById('a4Wrapper'),
            pageA4: document.getElementById('page-a4')
        };

        // Init
        function init() {
            // Render Icons
            icons.forEach(ico => {
                const d = document.createElement('div');
                d.className = 'grid-item';
                d.textContent = ico;
                d.onclick = () => setIcon(ico);
                if (ico === state.icon) d.classList.add('active');
                els.iconGrid.appendChild(d);
            });
            upd();
        }

        // Actions
        els.text.addEventListener('input', (e) => {
            state.text = e.target.value;
            upd();
        });

        function setIcon(ic) {
            state.icon = ic;
            // UI
            Array.from(els.iconGrid.children).forEach(c => {
                c.classList.toggle('active', c.textContent === ic);
            });
            upd();
        }

        function setPattern(pat) {
            state.pattern = pat;
            // UI
            document.querySelectorAll('.pattern-item').forEach(c => {
                c.classList.toggle('active', c.classList.contains(pat));
            });
            upd();
        }

        function setSize(sz) {
            state.sizeMode = sz;
            document.getElementById('sizeMed').classList.toggle('active', sz === 'medium');
            document.getElementById('sizeSmall').classList.toggle('active', sz === 'small');
        }

        function upd() {
            state.font = document.getElementById('selFont').value;

            // Single Preview Update
            const p = els.preview;
            p.className = `single-label ${state.pattern}`;
            p.style.fontFamily = state.font;
            els.labelIcon.textContent = state.icon;
            els.labelText.textContent = state.text;
        }

        // Generate A4
        function previewA4() {
            els.a4Wrapper.style.display = 'block';
            els.pageA4.innerHTML = '';

            // Layout Config
            // Medium: Formtec 3105 (63.5 x 38.1) -> 3 cols, 7 rows = 21 (approx)
            // Small: Formtec 3108 (38.1 x 21.2) -> 5 cols, 13 rows = 65 (approx)

            let cols, rows, w, h;
            if (state.sizeMode === 'medium') {
                cols = 3; rows = 7;
                w = '63.5mm'; h = '38.1mm';
            } else {
                cols = 5; rows = 13;
                w = '38.1mm'; h = '21.2mm';
            }

            els.pageA4.style.gridTemplateColumns = `repeat(${cols}, ${w})`;
            els.pageA4.style.gridTemplateRows = `repeat(${rows}, ${h})`;
            els.pageA4.style.justifyContent = 'center';

            const count = cols * rows;
            for (let i = 0; i < count; i++) {
                const item = document.createElement('div');
                item.className = `label-copy ${state.pattern}`;
                item.style.fontFamily = state.font;

                // Content
                // Use innerHTML for simple icon/text structure
                item.innerHTML = `<div class="label-icon">${state.icon}</div><div class="label-text">${state.text}</div>`;

                els.pageA4.appendChild(item);
            }

            // Scroll to preview
            els.a4Wrapper.scrollIntoView({ behavior: 'smooth' });

            // Small delay then download prompt or just wait for user to click download?
            // User button said "A4 ì±„ìš°ê¸° & ì €ì¥". Let's trigger download.
            setTimeout(downloadA4, 500);
        }

        function downloadSingle() {
            html2canvas(els.preview, { scale: 3, backgroundColor: null }).then(canvas => {
                linkDownload(canvas, `label_${state.text}.png`);
            });
        }

        function downloadA4() {
            html2canvas(els.pageA4, { scale: 2 }).then(canvas => {
                linkDownload(canvas, `label_A4_${state.text}.jpg`);
            });
        }

        function linkDownload(canvas, name) {
            const link = document.createElement('a');
            link.download = name;
            link.href = canvas.toDataURL();
            link.click();
        }

        init();

        // Mobile Scaling Logic
        function resizeLabel() {
            if (window.innerWidth < 450) {
                const preview = document.getElementById('labelSingle');
                // Base width of label is 300px + padding/border ~ 350px space needed
                // If screen is smaller, scale it down
                const availableWidth = window.innerWidth - 40;
                const baseWidth = 320; // safe width

                if (availableWidth < baseWidth) {
                    const scale = availableWidth / baseWidth;
                    preview.style.transform = `scale(${scale})`;
                    preview.style.marginBottom = `-${120 * (1 - scale)}px`; // Adjust height overlap
                } else {
                    preview.style.transform = 'none';
                    preview.style.marginBottom = '0';
                }
            }
        }

        window.addEventListener('resize', resizeLabel);
        window.addEventListener('load', resizeLabel);
    </script>
</body>

</html>